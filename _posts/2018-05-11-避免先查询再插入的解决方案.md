方案有很多，
示例1：

建立唯一索引，在代码里获取到DuplicateKeyException异常后，重新查询。

其他方式待补充